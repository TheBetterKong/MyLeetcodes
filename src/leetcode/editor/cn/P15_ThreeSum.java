/******************************* Javaï¼šä¸‰æ•°ä¹‹å’Œ *******************************/
// ç»™ä½ ä¸€ä¸ªåŒ…å« n ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œåˆ¤æ–­ nums ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  aï¼Œbï¼Œc ï¼Œä½¿å¾— a + b + c = 0 ï¼Ÿè¯·ä½ æ‰¾å‡ºæ‰€æœ‰å’Œä¸º 0 ä¸”ä¸é‡
// å¤çš„ä¸‰å…ƒç»„ã€‚
//
// æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
//è¾“å…¥ï¼šnums = [-1,0,1,2,-1,-4]
//è¾“å‡ºï¼š[[-1,-1,2],[-1,0,1]]
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
//è¾“å…¥ï¼šnums = []
//è¾“å‡ºï¼š[]
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
//è¾“å…¥ï¼šnums = [0]
//è¾“å‡ºï¼š[]
// 
//
//
// æç¤ºï¼š 
//
// 0 <= nums.length <= 3000 
// -105 <= nums[i] <= 105 
// 
// Related Topics æ•°ç»„ åŒæŒ‡é’ˆ 
// ğŸ‘ 2936 ğŸ‘ 0


/******************************* é¢˜ç›®æ€è·¯ *******************************/
// è¿˜æ˜¯åŒæ ·ä»æš´åŠ›ç ´è§£çš„è§’åº¦å‡ºå‘ï¼Œå°±æ˜¯å°†æ‰€æœ‰å¯èƒ½çš„æƒ…å†µéå†ä¸€éï¼Œæ‰¾å‡ºå’Œä¸º 0 çš„ç»„åˆ
// ç°åœ¨å°±ä¼šæœ‰ä¸¤ä¸ªé—®é¢˜ï¼šâ‘  è¿™æ ·éå†çš„ç»„åˆæƒ…å†µå¤ªå¤šï¼Œå¯èƒ½è¶…æ—¶ï¼›â‘¡ å¦‚ä½•é¿å…é‡å¤ï¼›
// å…ˆçœ‹ç¬¬äºŒä¸ªé—®é¢˜ï¼Œè¦é¿å…é‡å¤ï¼Œé‚£æœ€å¥½çš„åŠæ³•å°±æ˜¯æŒ‰ç…§æŸç§é¡ºåºæ¥éå†ï¼Œè€Œæœ‰é¡ºåºçš„å‰æå°±æ˜¯ï¼Œæ•°ç»„æœ‰åºï¼Œ
// æ‰€æœ‰ï¼Œè¦åšçš„ç¬¬ä¸€æ­¥å°±æ˜¯ï¼šå¯¹æ•°ç»„æ’åº
// æ¥ä¸‹æ¥å°±æ˜¯éå†ï¼Œé¦–å…ˆä¸€æƒ¯çš„åŠæ³•ï¼Œå…ˆå®šä¹‰ä¸€ä¸ªä»å¤´åˆ°å°¾çš„ first æŒ‡é’ˆã€‚æ¥ä¸‹æ¥å°±æ˜¯ï¼Œå¦å¤–ä¸¤ä¸ªæŒ‡é’ˆï¼Œåœ¨ first æŒ‡é’ˆåé¢éå†ã€‚æ€»è®¡ 3 å±‚å¾ªç¯ï¼›
// é’ˆå¯¹ä¸Šè¿°è¿‡ç¨‹ï¼Œæœ‰ä¸¤ä¸ªæœ‰è¶£çš„ç°è±¡ï¼š
//      1. æ¯ä¸€æ¬¡å¾ªç¯ä¸­ï¼Œæœ‰ä¸”åªä¼šæ‰¾åˆ°ä¸€ç»„ç¬¦åˆ â€œå’Œä¸º 0â€ çš„ä¸‰å…ƒç»„ã€‚
//      2. æ•°ç»„å·²ç»æ’åºï¼Œå¦‚æœ first æŒ‡é’ˆå·²å®šï¼Œé‚£ä¹ˆ second å’Œ third æŒ‡é’ˆä»–ä»¬æ˜¯å¯¹ç«‹å…³ç³»ï¼ˆä¸€ä¸ªå¢ä¸€ä¸ªå‡ï¼‰ï¼Œ
//         è¿™å°±æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ç”¨ä¸Š â€œåŒæŒ‡é’ˆâ€ çš„æ€æƒ³ï¼ˆæ—¶é—´å¤æ‚åº¦å¯ä» O(n^2) å˜ä¸º O(n)ï¼‰ï¼›
//
// å°±ä¸Šè¿°åˆ†æï¼Œæ•´ç†ä¸€ä¸‹å®Œæ•´çš„æ€è·¯ï¼š
// 1. å¯¹æ•°ç»„æ’åº
// 2. å®šä¹‰ first æŒ‡é’ˆä»å¤´å¼€å§‹éå†ï¼Œä½œä¸ºç¬¬ä¸€é‡å¾ªç¯
// 3. åœ¨ç¬¬ä¸€é‡å¾ªç¯ä¸‹ï¼Œåˆ©ç”¨ â€œåŒæŒ‡é’ˆâ€ çš„æ€æƒ³æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„ç»„åˆ
// æœ‰ä¸€ä¸ªæ³¨æ„ç‚¹å°±æ˜¯ï¼šä¸ºäº†é¿å…é‡å¤ï¼Œéœ€è¦åœ¨æ¯ä¸€æ¬¡å¾ªç¯ä¸­ï¼ŒåŠ ä¸Šé‡å¤æ€§æ£€æµ‹ï¼Œå¦‚æœè¿ç»­ä¸¤æ¬¡éå†çš„æ•°å€¼ç›¸åŒï¼Œåˆ™è·³è¿‡ï¼›
// æ—¶é—´å¤æ‚åº¦ä» O(n^3) é™ä¸º O(n^2)

/******************************* é¢˜ç›®ä»£ç  *******************************/
package leetcode.editor.cn;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

class P15_ThreeSum {
    public static void main(String[] args) {
        Solution solution = new P15_ThreeSum().new Solution();
        // TO TEST
        int[] nums = {1,2,-2,-1};
        List<List<Integer>> answer = solution.threeSum(nums);
        System.out.println(answer);
    }

    //leetcode submit region begin(Prohibit modification and deletion)
    class Solution {
        public List<List<Integer>> threeSum(int[] nums) {
            Arrays.sort(nums);
            int len = nums.length;
            List<List<Integer>> res = new ArrayList<List<Integer>>();

            for (int first = 0; first < len; first++) {
                // é‡å¤æ€§åˆ¤åˆ«
                if (first > 0 && nums[first] == nums[first-1]) {
                    continue;
                }

                int third = len - 1;
                int target = -nums[first];
                // åŒæŒ‡é’ˆæ€æƒ³è¿›ä¸€æ­¥æŸ¥æ‰¾
                for (int second = first + 1; second < third; second ++) {
                    // é‡å¤æ€§æ£€æŸ¥
                    if (second > first + 1 && nums[second] == nums[second-1]) {
                        continue;
                    }
                    // éå† third æŒ‡é’ˆï¼Œä½¿ä¹‹åœ¨ second çš„å³ä¾§å¹¶ä¸”å¤„åœ¨ second + third æœ€æ¥è¿‘ target çš„ä½ç½®
                    while (second < third && nums[second] + nums[third] > target) {
                        third --;
                    }
                    // å¯¹æ»¡è¶³ target çš„ç»„åˆï¼ŒåŠ å…¥åˆ° result é‡Œ
                    if (second < third && nums[second] + nums[third] == target) {
                        List<Integer> ans = new ArrayList<Integer>();
                        ans.add(nums[first]);
                        ans.add(nums[second]);
                        ans.add(nums[third]);
                        res.add(ans);
                    }
                }
            }

            return res;
        }
    }
    //leetcode submit region end(Prohibit modification and deletion)

}

/******************************* ä»£ç è¯„ä»· *******************************/
// æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)
// ç©ºé—´å¤æ‚åº¦ï¼šç©ºé—´å¤æ‚åº¦ï¼šO(logN)ã€‚æˆ‘ä»¬å¿½ç•¥å­˜å‚¨ç­”æ¡ˆçš„ç©ºé—´ï¼Œé¢å¤–çš„æ’åºçš„ç©ºé—´å¤æ‚åº¦ä¸º O(logN)ã€‚
// ç„¶è€Œæˆ‘ä»¬ä¿®æ”¹äº†è¾“å…¥çš„æ•°ç»„ numsï¼Œåœ¨å®é™…æƒ…å†µä¸‹ä¸ä¸€å®šå…è®¸ï¼Œå› æ­¤ä¹Ÿå¯ä»¥çœ‹æˆä½¿ç”¨äº†ä¸€ä¸ªé¢å¤–çš„æ•°ç»„å­˜å‚¨äº† nums çš„å‰¯æœ¬å¹¶è¿›è¡Œæ’åºï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(N)ã€‚
