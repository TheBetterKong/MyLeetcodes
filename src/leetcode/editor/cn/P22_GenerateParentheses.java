/******************************* Javaï¼šæ‹¬å·ç”Ÿæˆ *******************************/
// æ•°å­— n ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºèƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸” æœ‰æ•ˆçš„ æ‹¬å·ç»„åˆã€‚
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// è¾“å…¥ï¼šn = 3
// è¾“å‡ºï¼š["((()))","(()())","(())()","()(())","()()()"]
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// è¾“å…¥ï¼šn = 1
// è¾“å‡ºï¼š["()"]
//
//
// æç¤ºï¼š 
//
// 1 <= n <= 8 
// 
// Related Topics å­—ç¬¦ä¸² å›æº¯ç®—æ³• 
// ğŸ‘ 1550 ğŸ‘ 0


/******************************* é¢˜ç›®æ€è·¯ *******************************/
// æ–¹æ³•ä¸€ï¼šå›æº¯æ³•
//      é—®é¢˜çš„å…³é”®åœ¨äºï¼Œå¼„æ¸…ä»€ä¹ˆæ—¶å€™èƒ½æ·»åŠ æ‹¬å·ï¼š
//      å¦‚æœå·¦æ‹¬å·æ•°é‡ä¸å¤§äº nï¼Œæˆ‘ä»¬å¯ä»¥æ”¾ä¸€ä¸ªå·¦æ‹¬å·ã€‚å¦‚æœå³æ‹¬å·æ•°é‡å°äºå·¦æ‹¬å·çš„æ•°é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ”¾ä¸€ä¸ªå³æ‹¬å·ã€‚
//
// æ–¹æ³•äºŒï¼šæ‰¾è§„å¾‹æ¨¡å¼
//      æ¯ä¸€ä¸ªæ‹¬å·åºåˆ—å¯ä»¥ç”¨ (a)b æ¥è¡¨ç¤ºï¼Œå…¶ä¸­ a ä¸ b åˆ†åˆ«æ˜¯ä¸€ä¸ªåˆæ³•çš„æ‹¬å·åºåˆ—ï¼ˆå¯ä»¥ä¸ºç©ºï¼‰;
//      è¦ç”Ÿæˆæ‰€æœ‰é•¿åº¦ä¸º 2 * n çš„æ‹¬å·åºåˆ—ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå‡½æ•° generate(n) æ¥è¿”å›æ‰€æœ‰å¯èƒ½çš„æ‹¬å·åºåˆ—ã€‚é‚£ä¹ˆåœ¨å‡½æ•° generate(n) çš„è¿‡ç¨‹ä¸­ï¼š
//          - æˆ‘ä»¬éœ€è¦æšä¸¾ä¸ç¬¬ä¸€ä¸ª ( å¯¹åº”çš„ ) çš„ä½ç½® 2 * i + 1ï¼›
//          - é€’å½’è°ƒç”¨ generate(i) å³å¯è®¡ç®— a çš„æ‰€æœ‰å¯èƒ½æ€§ï¼›
//          - é€’å½’è°ƒç”¨ generate(n - i - 1) å³å¯è®¡ç®— b çš„æ‰€æœ‰å¯èƒ½æ€§ï¼›
//          - éå† a ä¸ b çš„æ‰€æœ‰å¯èƒ½æ€§å¹¶æ‹¼æ¥ï¼Œå³å¯å¾—åˆ°æ‰€æœ‰é•¿åº¦ä¸º 2 * n çš„æ‹¬å·åºåˆ—ã€‚
//      ä¸ºäº†èŠ‚çœè®¡ç®—æ—¶é—´ï¼Œæˆ‘ä»¬åœ¨æ¯æ¬¡ generate(i) å‡½æ•°è¿”å›ä¹‹å‰ï¼ŒæŠŠè¿”å›å€¼å­˜å‚¨èµ·æ¥ï¼Œä¸‹æ¬¡å†è°ƒç”¨ generate(i) æ—¶å¯ä»¥ç›´æ¥è¿”å›ï¼Œä¸éœ€è¦å†é€’å½’è®¡ç®—ã€‚


/******************************* é¢˜ç›®ä»£ç  *******************************/
package leetcode.editor.cn;

import java.util.ArrayList;
import java.util.List;

class P22_GenerateParentheses {
    public static void main(String[] args) {
        Solution solution = new P22_GenerateParentheses().new Solution();
        // TO TEST
        int n = 3;
        List answer = solution.generateParenthesis(n);
        System.out.println(answer);
    }

    //leetcode submit region begin(Prohibit modification and deletion)
    class Solution {
        public List<String> generateParenthesis(int n) {
            List<String> res = new ArrayList<>();
            backtrack(res, new StringBuilder(), 0, 0, n);
            return res;
        }

        private void backtrack(List<String> ans, StringBuilder cur, int left, int right, int max) {
            if (cur.length() == max * 2) {
                ans.add(cur.toString());
                return;
            }

            if (left < max) {
                cur.append('(');
                backtrack(ans, cur, left + 1, right, max);
                cur.deleteCharAt(cur.length() - 1);
            }
            if (left > right) {
                cur.append(')');
                backtrack(ans, cur, left, right + 1, max);
                cur.deleteCharAt(cur.length() - 1);
            }
        }
    }
    //leetcode submit region end(Prohibit modification and deletion)

}

/******************************* ä»£ç è¯„ä»· *******************************/
// å¤æ‚åº¦åˆ†æä¾èµ–äºç†è§£ generateParenthesis(n) ä¸­æœ‰å¤šå°‘ä¸ªå…ƒç´ ã€‚
// è¿™ä¸ªåˆ†æè¶…å‡ºäº†æœ¬æ–‡çš„èŒƒç•´ï¼Œä½†äº‹å®è¯æ˜è¿™æ˜¯ç¬¬ n ä¸ªå¡ç‰¹å…°æ•° 1/(n+1)*(2n n) ï¼Œè¿™æ˜¯ç”± (4^n)/(n æ ¹å·n) æ¸è¿‘ç•Œå®šçš„ã€‚
//
// æ—¶é—´å¤æ‚åº¦ï¼šO((4^n)/(n æ ¹å·n))ï¼Œåœ¨å›æº¯è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªç­”æ¡ˆéœ€è¦ O(n) çš„æ—¶é—´å¤åˆ¶åˆ°ç­”æ¡ˆæ•°ç»„ä¸­ã€‚
// ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œé™¤äº†ç­”æ¡ˆæ•°ç»„ä¹‹å¤–ï¼Œæˆ‘ä»¬æ‰€éœ€è¦çš„ç©ºé—´å–å†³äºé€’å½’æ ˆçš„æ·±åº¦ï¼Œæ¯ä¸€å±‚é€’å½’å‡½æ•°éœ€è¦ O(1) çš„ç©ºé—´ï¼Œæœ€å¤šé€’å½’ 2n å±‚
