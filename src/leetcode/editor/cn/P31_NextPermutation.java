/******************************* Javaï¼šä¸‹ä¸€ä¸ªæ’åˆ— *******************************/
// å®ç°è·å– ä¸‹ä¸€ä¸ªæ’åˆ— çš„å‡½æ•°ï¼Œç®—æ³•éœ€è¦å°†ç»™å®šæ•°å­—åºåˆ—é‡æ–°æ’åˆ—æˆå­—å…¸åºä¸­ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ã€‚
//
// å¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ï¼Œåˆ™å°†æ•°å­—é‡æ–°æ’åˆ—æˆæœ€å°çš„æ’åˆ—ï¼ˆå³å‡åºæ’åˆ—ï¼‰ã€‚ 
//
// å¿…é¡» åŸåœ° ä¿®æ”¹ï¼Œåªå…è®¸ä½¿ç”¨é¢å¤–å¸¸æ•°ç©ºé—´ã€‚ 
//
//
// ç¤ºä¾‹ 1ï¼š 
//
// è¾“å…¥ï¼šnums = [1,2,3]
// è¾“å‡ºï¼š[1,3,2]
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// è¾“å…¥ï¼šnums = [3,2,1]
// è¾“å‡ºï¼š[1,2,3]
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// è¾“å…¥ï¼šnums = [1,1,5]
// è¾“å‡ºï¼š[1,5,1]
// 
//
// ç¤ºä¾‹ 4ï¼š 
//
// è¾“å…¥ï¼šnums = [1]
// è¾“å‡ºï¼š[1]
// 
//
// 
//
// æç¤ºï¼š 
//
// 1 <= nums.length <= 100 
// 0 <= nums[i] <= 100 
// 
// Related Topics æ•°ç»„ 
// ğŸ‘ 1104 ğŸ‘ 0


/******************************* é¢˜ç›®æ€è·¯ *******************************/
// çœ‹åˆ°é¢˜ç›®ï¼Œåªå…è®¸æˆ‘ä»¬åŸåœ°ä¿®æ”¹ï¼Œé‚£å°±è¯´æ˜æœ¬é¢˜æ˜¯ä¸€ä¸ªç›´æ¥æ“ä½œæ•°ç»„çš„é¢˜ï¼Œè€Œæ•°ç»„é‡Œæœ€å¸¸ç”¨çš„æ€æƒ³ï¼Œæ— éå°±æ˜¯ â€œéå†â€ â€œåŒæŒ‡é’ˆâ€ï¼›
// æ¥ä¸‹æ¥ï¼Œé—®é¢˜å°±æ˜¯ï¼Œå¦‚ä½•éå†ï¼Ÿæ‰¾è§„å¾‹ï¼Œæ‰¾ç‰¹æ€§ï¼
// æ‰¾å­—å…¸åºçš„ä¸‹ä¸€ä¸ªæ’åˆ—ï¼Œå³æ‰€è°“çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ï¼Œæˆ‘ä»¬ä»¥åºåˆ—ï¼š1,5,8,5,1,3,4,6,7 ä¸ºä¾‹æ¥åˆ†æã€‚
// æœ€è‡ªç„¶è€Œç„¶çš„æƒ³æ³•å°±æ˜¯ï¼Œåˆ†æå…ƒç´ é—´çš„å¤§å°å…³ç³»ï¼Œçªç ´ç‚¹ä¹Ÿæ˜¯åœ¨æ­¤ã€‚
//
// é¦–å…ˆï¼Œæˆ‘ä»¬æŒ‰ç…§ä»¥å¾€æœ€å¸¸ç”¨çš„åŠæ³•ï¼šæ‰¾æœ€å¤§å€¼ï¼Œæœ€å°å€¼ã€‚è¿™æ—¶å€™ä½ ä¼šå‘ç°ï¼Œæƒ³è¦æ±‚è§£ä¸‹ä¸€ä¸ªæ›´å¤§ï¼Œä¸ä»…å’Œæœ€å€¼æœ‰å…³ï¼Œè¿˜ä¸å…ƒç´ çš„ä½ç½®å…³ç³»æœ‰å…³ã€‚
// è¿™æ—¶å€™ï¼Œå¦ä¸€ç§åˆ†æåŠæ³•å°±æ¥äº†ï¼šæ‰¾é€†åºå¯¹ï¼
//
// æ¥ç€ï¼Œä½ æ˜¯ä¸æ˜¯ä¹Ÿä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šåˆ†æè¿‡ç¨‹ä¸­ï¼Œæ€»æ„Ÿè§‰æ²¡æœ‰è§„ç« ï¼Œæ€è·¯å¾ˆä¹±ï¼Œç»•ç€ç»•ç€å°±æŠŠè‡ªå·±ç»•ç³Šæ¶‚äº†ã€‚é‚£ç®€å•ï¼Œæˆ‘ä»¬ä»ç‰¹æ®Šæƒ…å†µå…¥æ‰‹ï¼š
// â€œæ²¡æœ‰ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ æ—¶ï¼ŒæŠŠé—®é¢˜å˜ä¸ºï¼šå®ƒçš„ä¸Šä¸€ä¸ªæ’åˆ—æ˜¯ä»€ä¹ˆï¼Ÿâ€
// ï¼ˆ1ï¼‰æŠŠä¸Šé¢çš„æ’åˆ—æ’æˆæœ€å°ï¼Œå³ï¼š1,1,3,4,5,5,6,7,8ï¼Œæ‰¾å®ƒçš„ä¸‹ä¸€ä¸ªæ’åˆ—æ˜¯ä»€ä¹ˆï¼Œä½ ä¼šæ€ä¹ˆæ‰¾ï¼Ÿ
//       æ­¤æ—¶ï¼Œæ’åˆ—ä¸»è¦å…³æ³¨çš„æ•°å­—å°±æ˜¯æœ€åä¸¤ä¸ªï¼š7ï¼Œ8ï¼›
//       ä»åå¾€å‰æ‰¾ï¼ŒæŠŠ 7 å’Œ 8 ä¸¤ä¸ªæ•°äº¤æ¢ï¼›
// ï¼ˆ2ï¼‰é—®é¢˜éš¾åº¦åŠ å¤§ï¼Œåœ¨ä¸Šé¢çš„æ’åˆ—çš„åŸºç¡€ä¸Šï¼ˆå³ï¼š1,1,3,4,5,5,6,8,7ï¼‰ï¼Œå†æ‰¾å®ƒçš„ä¸‹ä¸€ä¸ªæ’åˆ—æ˜¯ä»€ä¹ˆï¼Œä½ ä¼šæ€ä¹ˆæ‰¾ï¼Ÿ
//       æ­¤æ—¶ï¼Œæ’åˆ—ä¸»è¦å…³æ³¨çš„æ•°å­—å°±æ˜¯æœ€åä¸‰ä¸ªï¼š6,8,7ï¼›
//       æ¯” 687 å¤§çš„ä¸‹ä¸€ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯ 768ï¼›ï¼ˆæ³¨æ„ç•™æ„ï¼Œä½ çš„æ½œæ„è¯†é‡Œæ˜¯æ€ä¹ˆç®—å‡ºæ¥ 768 çš„ï¼ï¼ï¼ï¼‰
// ï¼ˆ3ï¼‰ç»§ç»­ï¼Œå†åœ¨ä¸Šä¸€ä¸ªçš„åŸºç¡€ä¸Šï¼ˆå³ï¼š1,1,3,4,5,5,7,6,8ï¼‰ï¼Œå†æ‰¾å®ƒçš„ä¸‹ä¸€ä¸ªæ’åˆ—æ˜¯ä»€ä¹ˆï¼Œä½ ä¼šæ€ä¹ˆæ‰¾ï¼Ÿ
//       æ­¤æ—¶ï¼Œæ’åˆ—ä¸»è¦å…³æ³¨çš„æ•°å­—åˆå˜æˆäº†æœ€åä¸¤ä¸ªï¼š6,8ï¼›
//       æ¯” 68 å¤§çš„ä¸‹ä¸€ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯ 86ï¼›
// ï¼ˆ4ï¼‰å†ç»§ç»­ï¼Œå†åœ¨ä¸Šä¸€ä¸ªçš„åŸºç¡€ä¸Šï¼ˆå³ï¼š1,1,3,4,5,5,7,8,6ï¼‰ï¼Œå†æ‰¾å®ƒçš„ä¸‹ä¸€ä¸ªæ’åˆ—æ˜¯ä»€ä¹ˆï¼Œä½ ä¼šæ€ä¹ˆæ‰¾ï¼Ÿ
//       æ­¤æ—¶ï¼Œæ’åˆ—ä¸»è¦å…³æ³¨çš„æ•°å­—åˆå˜æˆäº†æœ€åä¸‰ä¸ªï¼š7,8,6ï¼›
//       æ¯” 786 å¤§çš„ä¸‹ä¸€ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯ 867ï¼›
// ......
// ç›¸ä¿¡åˆ°è¿™é‡Œï¼Œä½ å·²ç»åŸºæœ¬æŒæ¡åˆ°è§„å¾‹äº†ï¼Œå¦‚æœè¿˜æ²¡æœ‰ï¼Œé‚£å°±ç»§ç»­å±•å¼€åˆ†æã€‚åšä¸€ä¸‹æ€»ç»“ï¼š
//  â‘  æ‰¾æˆ‘ä»¬éœ€è¦å…³æ³¨çš„å…ƒç´ ï¼š
//          ä»åå¾€å‰éå†ï¼Œå¦‚æœå‘ç° a[i-1] < a[i]ï¼Œé‚£ä¹ˆä» i-1 ä»æ•°åˆ—æœ«å°¾çš„å…ƒç´ éƒ½æ˜¯æˆ‘ä»¬éœ€è¦å…³æ³¨çš„ï¼Œæ³¨æ„ç›¸ç­‰ä¸ç®—ã€‚
//  â‘¡ åœ¨è¿™äº›å…³æ³¨çš„å…ƒç´ é‡Œï¼ˆa[i-1] åˆ° a[n]ï¼‰ï¼Œæ‰¾ä¸‹ä¸€ä¸ªæ›´å¤§æ•°ï¼š
//          æ³¨æ„ä¸€ä¸ªè§„å¾‹ï¼šå…ˆä¸çœ‹ a[i-1]ï¼Œæ­¤æ—¶ a[i,n] æ˜¯ä»å¤§åˆ°å°æ’åˆ—çš„ï¼Œ
//          é‚£ä¹ˆä» a[n] å¾€ a[i] åå‘éå†ï¼Œæ‰¾ç¬¬ä¸€ä¸ªæ¯” a[i-1] å¤§çš„å…ƒç´  a[j]ï¼Œäº¤æ¢ a[i-1] å’Œ a[j]ï¼›
//          æ­¤æ—¶ a[i-1] ä½ç½®çš„å…ƒç´ ç¡®å®šå®Œæ¯•ï¼Œa[i,n] ä¾æ—§å‘ˆé™åºï¼›
//          æœ€åä¸€æ­¥ï¼šåè½¬ a[i,n]ï¼Œä½¿ä¹‹å‘ˆå‡åºï¼Œå³æœ€å°æ’åˆ—

/******************************* é¢˜ç›®ä»£ç  *******************************/
package leetcode.editor.cn;

import java.util.Arrays;

class P31_NextPermutation {
    public static void main(String[] args) {
        Solution solution = new P31_NextPermutation().new Solution();
        // TO TEST
        int[] nums = {3,2,1};
        solution.nextPermutation(nums);
        System.out.println(Arrays.toString(nums));
    }

    //leetcode submit region begin(Prohibit modification and deletion)
    class Solution {
        public void nextPermutation(int[] nums) {
            int i = nums.length - 1;
            // ç¡®å®šéœ€è¦å…³æ³¨çš„æ•°åˆ—èµ·å§‹ä½ç½®
            while(i > 0 && nums[i-1] >= nums[i]) {
                i--;
            }
            if (i > 0) {
                int j = nums.length - 1;
                while (j > i-1 && nums[i-1] >= nums[j]) {
                    j--;
                }
                swap(nums, i-1, j);
            }
            reverse(nums, i);
        }

        private void swap(int[] nums, int i, int j) {
            int temp = nums[j];
            nums[j] = nums[i];
            nums[i] = temp;
        }

        private void reverse(int[] nums, int i) {
            int begin = i, end = nums.length - 1;
            while (begin < end) {
                swap(nums, begin, end);
                begin++;
                end--;
            }
        }
    }
    //leetcode submit region end(Prohibit modification and deletion)

}

/******************************* ä»£ç è¯„ä»· *******************************/
// æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œçº¿æ€§çº§åˆ«çš„å¤æ‚åº¦ï¼Œä¸»è¦å¼€é”€åœ¨äºä¸¤æ¬¡æ‰«æï¼Œä¸€æ¬¡åè½¬
// ç©ºé—´å¤æ‚åº¦ï¼šO(1)