/******************************* Javaï¼šä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I *******************************/
// ç»™å®šä¸¤ä¸ª æ²¡æœ‰é‡å¤å…ƒç´  çš„æ•°ç»„ nums1 å’Œ nums2 ï¼Œå…¶ä¸­nums1 æ˜¯ nums2 çš„å­é›†ã€‚æ‰¾åˆ° nums1 ä¸­æ¯ä¸ªå…ƒç´ åœ¨ nums2 ä¸­çš„ä¸‹ä¸€ä¸ª
// æ¯”å…¶å¤§çš„å€¼ã€‚
//
// nums1 ä¸­æ•°å­— x çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ æ˜¯æŒ‡ x åœ¨ nums2 ä¸­å¯¹åº”ä½ç½®çš„å³è¾¹çš„ç¬¬ä¸€ä¸ªæ¯” x å¤§çš„å…ƒç´ ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œå¯¹åº”ä½ç½®è¾“å‡º -1 ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1: 
//
// è¾“å…¥: nums1 = [4,1,2], nums2 = [1,3,4,2].
// è¾“å‡º: [-1,3,-1]
// è§£é‡Š:
//    å¯¹äºnum1ä¸­çš„æ•°å­—4ï¼Œä½ æ— æ³•åœ¨ç¬¬äºŒä¸ªæ•°ç»„ä¸­æ‰¾åˆ°ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å­—ï¼Œå› æ­¤è¾“å‡º -1ã€‚
//    å¯¹äºnum1ä¸­çš„æ•°å­—1ï¼Œç¬¬äºŒä¸ªæ•°ç»„ä¸­æ•°å­—1å³è¾¹çš„ä¸‹ä¸€ä¸ªè¾ƒå¤§æ•°å­—æ˜¯ 3ã€‚
//    å¯¹äºnum1ä¸­çš„æ•°å­—2ï¼Œç¬¬äºŒä¸ªæ•°ç»„ä¸­æ²¡æœ‰ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å­—ï¼Œå› æ­¤è¾“å‡º -1ã€‚ 
//
// ç¤ºä¾‹ 2: 
//
// è¾“å…¥: nums1 = [2,4], nums2 = [1,2,3,4].
// è¾“å‡º: [3,-1]
// è§£é‡Š:
//    å¯¹äº num1 ä¸­çš„æ•°å­— 2 ï¼Œç¬¬äºŒä¸ªæ•°ç»„ä¸­çš„ä¸‹ä¸€ä¸ªè¾ƒå¤§æ•°å­—æ˜¯ 3 ã€‚
//    å¯¹äº num1 ä¸­çš„æ•°å­— 4 ï¼Œç¬¬äºŒä¸ªæ•°ç»„ä¸­æ²¡æœ‰ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å­—ï¼Œå› æ­¤è¾“å‡º -1 ã€‚
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// nums1 å’Œ nums2 ä¸­æ‰€æœ‰å…ƒç´ æ˜¯å”¯ä¸€çš„ã€‚
// nums1 å’Œ nums2 çš„æ•°ç»„å¤§å°éƒ½ä¸è¶…è¿‡1000ã€‚
// 
// Related Topics æ ˆ 
// ğŸ‘ 288 ğŸ‘ 0


/******************************* é¢˜ç›®æ€è·¯ *******************************/
// æœ¬é¢˜çœŸçš„æ€ä¹ˆçœ‹ä¹Ÿä¸åƒä¸€ä¸ªç®€å•é¢˜ï¼Œçœ‹äº†å®˜æ–¹é¢˜è§£ï¼Œå±…ç„¶éœ€è¦ä½¿ç”¨åˆ° stack å’Œ map ä¸¤ç§æ•°æ®ç»“æ„ã€‚
// ä¸»è¦æ€æƒ³æ˜¯ï¼Œæ ¹æ® nums2 æ„é€ å•è°ƒæ ˆï¼ŒåŒæ—¶éšæ—¶å°† nums2 é‡Œæ¯ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªè¾ƒå¤§æ•°å­˜å…¥ map ä¸­ï¼š
//     é¦–å…ˆå…¥æ ˆ num2[0]ï¼Œ
//     å¯¹äº nums2[1]ï¼š
//          å¦‚æœ nums2[1] <= nums2[0]ï¼Œç›´æ¥ num2[1] å…¥æ ˆï¼›
//          å¦‚æœ nums2[1] > nums2[0]ï¼Œåˆ™ nums2[0] çš„ä¸€ä¸ªè¾ƒå¤§æ•°ä¸º nums2[1]ï¼Œ<nums2[0],nums2[1]> å­˜å…¥ mapï¼Œnums2[0] å‡ºæ ˆï¼Œnums2[1] å…¥æ ˆ
//     å¯¹äº nums2[2]ï¼š
//          å¦‚æœ nums2[2] <= nums2[1]ï¼Œè¿˜æ˜¯ç›´æ¥ num2[2] å…¥æ ˆå³å¯ï¼›
//          å¦‚æœ nums2[2] > nums2[1]ï¼Œåˆ™æ ˆé‡Œæ‰€æœ‰æ¯” nums[2] å°çš„å…ƒç´ éƒ½æ‰¾åˆ°äº†ä¸‹ä¸€ä¸ªè¾ƒå¤§æ•°ï¼Œå­˜å…¥ mapï¼Œå¹¶å‡ºæ ˆï¼Œç„¶å num2[2] å…¥æ ˆï¼›
//     ......
// ä¸Šé¢ï¼Œç»´æŠ¤çš„æ ˆå°±æ˜¯ä¸€ä¸ªä»æ ˆåº•åˆ°æ ˆé¡¶å•è°ƒä¸å¢çš„å•è°ƒæ ˆï¼›

/******************************* é¢˜ç›®ä»£ç  *******************************/
package leetcode.editor.cn;

import java.util.Arrays;
import java.util.HashMap;
import java.util.Stack;

class P496_NextGreaterElementI {
    public static void main(String[] args) {
        Solution solution = new P496_NextGreaterElementI().new Solution();
        // TO TEST
        int[] nums1 = {4,1,2};
        int[] nums2 = {1,3,4,2};
        int[] answer = solution.nextGreaterElement(nums1, nums2);
        System.out.println(Arrays.toString(answer));
    }

    //leetcode submit region begin(Prohibit modification and deletion)
    class Solution {
        public int[] nextGreaterElement(int[] nums1, int[] nums2) {
            // åˆå§‹åŒ–å£°æ˜
            Stack<Integer> stack = new Stack<>();
            HashMap<Integer,Integer> map = new HashMap<>();
            int[] res = new int[nums1.length];

            // éå† nums2ï¼Œæ„é€  å•è°ƒæ ˆ å’Œ map
            for (int i = 0; i < nums2.length; i++) {
                while (!stack.isEmpty() && nums2[i] > stack.peek()) {
                    map.put(stack.pop(), nums2[i]);
                }
                stack.push(nums2[i]);
            }
            while (!stack.empty()) {    // nums2 éå†å®Œåï¼Œå¤„ç† stack é‡Œå‰©ä½™çš„å…ƒç´ ï¼Œéƒ½æ˜¯æ²¡æœ‰ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ 
                map.put(stack.pop(), -1);
            }

            // åˆ©ç”¨ map è¿”å› num1 æ¯ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ 
            for (int i = 0; i < nums1.length; i++) {
                res[i] = map.get(nums1[i]);
            }
            return res;
        }
    }
    //leetcode submit region end(Prohibit modification and deletion)

}

/******************************* ä»£ç è¯„ä»· *******************************/
// æ—¶é—´å¤æ‚åº¦ O(m+n)ï¼Œå…¶ä¸­ m ä¸º nums1 çš„é•¿åº¦ï¼Œn ä¸º nums2 çš„é•¿åº¦ï¼Œä¸»è¦æ¥æºäºä¸¤æ¬¡éå†ï¼›
// ç©ºé—´å¤æ‚åº¦ O(n)ï¼Œéå† nums2 æ—¶ï¼ŒåŒæ—¶ä½¿ç”¨åˆ°äº† stack å’Œ mapï¼›